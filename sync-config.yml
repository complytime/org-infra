---
# Configuration file for sync-org-repositories.py
# This file defines which files and workflows should be synchronized
# across all organization repositories.

# Repositories to exclude from synchronization
# org-infra is excluded by default as it's the source repository
exclude_repos:
  - cac-content                 # Forked repository for testing transformation from CaC to OSCAL
  - compliance-to-policy-go     # Forked repository for testing features
  - compliance-to-policy-python # Forked repository for testing features
  - complytime-collector-distro # Empty repository
  - creme-brulee                # Template repository for training purposes
  - org-infra                   # This repository itself
  - oscal-content               # Empty repository
  - oscal-sdk-go                # Forked repository for testing features

# Files and workflows to synchronize
# Each entry specifies:
#   - source: Path relative to org-infra repository root
#   - destination: (optional) Path in target repo, defaults to same as source
#   - exclude_repos: (optional) List of repositories to skip for this file
files_to_sync:
  # GitHub Workflows
  - source: .github/workflows/ci_checks.yml
    destination: .github/workflows/ci_checks.yml

  - source: .github/workflows/ci_dependencies.yml
    destination: .github/workflows/ci_dependencies.yml

  - source: .github/workflows/ci_scheduled.yml
    destination: .github/workflows/ci_scheduled.yml

  - source: .github/workflows/ci_security.yml
    destination: .github/workflows/ci_security.yml

  # Configuration Files
  - source: .github/dependabot.yml
    destination: .github/dependabot.yml
    exclude_repos:
      - complyscribe
      - complytime-demos
      - complytime-policies
      - vagrant-boxes

  - source: .github/dependabot_python.yml
    destination: .github/dependabot.yml
    exclude_repos:
      - .github
      - compliance-to-policy-plugins
      - complybeacon
      - complyctl
      - complytime-collector-components
      - gemara2oscal
      - vagrant-boxes

  - source: .mega-linter.yml
    destination: .mega-linter.yml

  - source: .yamllint.yml
    destination: .yamllint.yml

  - source: commitlint.config.js
    destination: commitlint.config.js

  - source: .golangci.yml
    destination: .golangci.yml
    exclude_repos:
      - complyscribe
      - complytime-demos
      - complytime-policies
      - vagrant-boxes

  - source: ruff.toml
    destination: ruff.toml
    exclude_repos:
      - .github
      - compliance-to-policy-plugins
      - complybeacon
      - complyctl
      - complytime-collector-components
      - gemara2oscal
      - vagrant-boxes

  # GitHub Templates
  - source: .github/pull_request_template.md
    destination: .github/pull_request_template.md

  - source: .github/ISSUE_TEMPLATE/bug_report.md
    destination: .github/ISSUE_TEMPLATE/bug_report.md

  - source: .github/ISSUE_TEMPLATE/feature_request.md
    destination: .github/ISSUE_TEMPLATE/feature_request.md

# Default branch name for creating PRs
default_base_branch: main
